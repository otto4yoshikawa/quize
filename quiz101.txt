History puzzle

１から９までの数字を１つづつ使って
４桁の分子と５桁の分母をつくる
 
約分すると　1/2 1/3 1/4 1/5 1/6 1/7 1/8 1/9
になる数を列挙せよ

このパズルは　Sam Loyd　のpuzzle集から　つくりかえました

historypzl.jpg historyans.jpgを参照してください

プログラムをかいて、実行させました
#pragma hdrstop
#pragma argsused

#include <tchar.h>

#include <stdio.h>
 int A[10];
 bool aa(int n);


int _tmain(int argc, _TCHAR* argv[])
{
	int count,i,j,k,kk,n,l,n1,n2,n3,n4;
	int ratio=2;
	for(ratio=2;ratio<=9;ratio++){
	printf("\nratio=1/%d\n", ratio);
	count=0;
	for(i=0;i<10;i++) A[i]=0;
	for(n1=1;n1<=9;n1++){
	  A[n1]=n1;
	for(n2=1;n2<=9;n2++){
	 if( A[n2]) continue;  A[n2]=n2;


	 for(n3=1;n3<=9;n3++){
	 if( A[n3])  continue;

	 A[n3]=n3;



		for(n4=1;n4<=9;n4++){
	 if( A[n4])   continue;
	  A[n4]=n4;
		 k=n1*1000+n2*100+n3*10+n4;
		 kk=k*ratio;
	 //  printf("n=%d",k);
		if(aa(kk)){
		count++;
		printf("%4d/%5d ",k,kk);
		if((count%5)==0)printf("\n");
		}
		A[n4]=0  ;}
	 A[n3]=0;}
	 A[n2]=0;}
	 A[n1]=0;}

  }
	return 0;
}

 bool aa(int n)    {
	int g,i,b[10];
	for(i=0;i<10;i++)b[i]=A[i];
	for(i=0;i<5;i++){
	  g=n%10,n/=10;
	  if(g==0) return false;
	  if(b[g]) return false;
	  b[g]=g;
	  }
	return true;}

ratio=1/2
6729/13458 6792/13584 6927/13854 7269/14538 7293/14586 
7329/14658 7692/15384 7923/15846 7932/15864 9267/18534 
9273/18546 9327/18654 
ratio=1/3
5823/17469 5832/17496 
ratio=1/4
3942/15768 4392/17568 5796/23184 7956/31824 
ratio=1/5
2697/13485 2769/13845 2937/14685 2967/14835 2973/14865 
3297/16485 3729/18645 6297/31485 7629/38145 9237/46185 
9627/48135 9723/48615 
ratio=1/6
2943/17658 4653/27918 5697/34182 
ratio=1/7
2394/16758 2637/18459 4527/31689 5274/36918 5418/37926 
5976/41832 7614/53298 
ratio=1/8
3187/25496 4589/36712 4591/36728 4689/37512 4691/37528 
4769/38152 5237/41896 5371/42968 5789/46312 5791/46328 
5839/46712 5892/47136 5916/47328 5921/47368 6479/51832 
6741/53928 6789/54312 6791/54328 6839/54712 7123/56984 
7312/58496 7364/58912 7416/59328 7421/59368 7894/63152 
7941/63528 8174/65392 8179/65432 8394/67152 8419/67352 
8439/67512 8932/71456 8942/71536 8953/71624 8954/71632 
9156/73248 9158/73264 9182/73456 9316/74528 9321/74568 
9352/74816 9416/75328 9421/75368 9523/76184 9531/76248 
9541/76328 
ratio=1/9
6381/57429 6471/58239 8361/75249 

この実行を　そちらで　行うには次の手順で行う

コンパイル済の exe が福本さんのサーバー
http://kiyoshifk.dip.jp/otto4yoshi/quiz101.exe

にあるので　それを名前をつけて保存します
exeはいやがりますが　むりやり　自分のfolderにいれます
（例えば　c:\yuri)

コマンドプロンプトを起動して

cd \yuri
quiz101 
と入れます




